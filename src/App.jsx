import React, { useEffect, useMemo, useRef, useState } from 'react'
import { motion, AnimatePresence } from 'framer-motion'

const T = { bg:'bg-black', surface:'bg-zinc-950', text:'text-white', sub:'text-zinc-300', border:'border-zinc-800', hairline:'border border-zinc-800', card:'bg-zinc-950', accent:'#ff0000', accentLight:'#ff6666' }
const fade={ hidden:{opacity:0,y:12}, show:{opacity:1,y:0,transition:{duration:.6}} }
const HoverLift={ whileHover:{ y:-2, scale:1.02 }, transition:{ type:'spring', stiffness:300, damping:18 } }
const Section=({id,className='',children})=> (<section id={id} className={`max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 ${className}`}>{children}</section>)
const Magnetic=({children})=>{ const ref=useRef(null); return (<div ref={ref} onMouseMove={e=>{ const el=ref.current;if(!el)return; const r=el.getBoundingClientRect(); const dx=e.clientX-(r.left+r.width/2); const dy=e.clientY-(r.top+r.height/2); el.style.transform=`translate(${dx*.06}px, ${dy*.06}px)` }} onMouseLeave={()=>{ const el=ref.current; if(el) el.style.transform='translate(0,0)' }} className="will-change-transform">{children}</div>) }
const CursorDot=()=>{ useEffect(()=>{ const dot=document.createElement('div'); dot.className='cursor-dot'; document.body.appendChild(dot); const move=e=>{ dot.style.transform=`translate(${e.clientX-5}px, ${e.clientY-5}px)` }; const enter=()=>dot.classList.add('pointer'); const leave=()=>dot.classList.remove('pointer'); window.addEventListener('mousemove',move); document.querySelectorAll('a,button,[role="button"]').forEach(el=>{ el.addEventListener('mouseenter',enter); el.addEventListener('mouseleave',leave) }); return ()=>{ window.removeEventListener('mousemove',move); dot.remove(); document.querySelectorAll('a,button,[role="button"]').forEach(el=>{ el.removeEventListener('mouseenter',enter); el.removeEventListener('mouseleave',leave) }) } },[]); return null }
const AccentButton=({href,className='',children})=> (<a href={href} className="inline-block"><Magnetic><motion.div {...HoverLift}><button className={`rounded-xl h-10 px-5 text-white transition-all duration-200 ${className}`} style={{backgroundColor:T.accent,boxShadow:'0 10px 26px -12px rgba(255,0,0,.8)'}}>{children}</button></motion.div></Magnetic></a>)
const LightButton=({href,className='',children})=> (<a href={href} className="inline-block"><Magnetic><motion.div {...HoverLift}><button className={`rounded-xl h-10 px-5 bg-white text-black hover:bg-zinc-100 border border-zinc-200 transition-all duration-200 ${className}`}>{children}</button></motion.div></Magnetic></a>)
const OutlineButton=({href,className='',children})=> (<a href={href} className="inline-block"><Magnetic><motion.div {...HoverLift}><button className={`rounded-xl h-10 px-5 border border-zinc-700 text-white hover:bg-zinc-900 transition-all duration-200 ${className}`} onMouseEnter={e=>e.currentTarget.style.boxShadow='0 8px 24px -12px rgba(255,0,0,.45)'} onMouseLeave={e=>e.currentTarget.style.boxShadow='0 0 0 0 rgba(0,0,0,0)'}>{children}</button></motion.div></Magnetic></a>)
const GhostLink=({href,children})=> (<a href={href} className="inline-flex items-center px-0 h-8" style={{color:T.accent}}>{children}</a>)
const NavLink=({href,label})=> (<a href={href} className="hover:text-white text-zinc-300 transition-colors" style={{transition:'color .15s ease'}}>{label}</a>)
const Logo=()=> (<div className="flex items-center gap-2 font-semibold tracking-tight"><div className="w-6 h-6 rounded-md" style={{backgroundColor:T.accent}}/><span className="leading-none text-white font-display">Heplink</span></div>)
const Navbar=()=> (<div className={`sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-black/60 bg-black/80 border-b ${T.border}`}><Section className="py-4 flex items-center justify-between"><Logo/><nav className="hidden md:flex items-center gap-7 text-[15px]"><NavLink href="#/home" label="Home"/><NavLink href="#/work" label="Work"/><NavLink href="#/services" label="What we do"/><NavLink href="#/insights" label="Insights"/><NavLink href="#/careers" label="Careers"/><NavLink href="#/contact" label="Contact"/></nav><AccentButton href="#/contact" className="hidden sm:inline-flex">Let's talk</AccentButton></Section></div>)
const DEFAULT_PLACEHOLDER=`data:image/svg+xml;utf8,${encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' width='1600' height='900'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='%23ff6666'/><stop offset='100%' stop-color='%23ff0000'/></linearGradient></defs><rect fill='url(%23g)' width='100%' height='100%'/><text x='50%' y='50%' fill='white' font-family='Arial, Helvetica, sans-serif' font-size='36' text-anchor='middle'>Heplink image placeholder</text></svg>")}`
const candidates=(base,exts=['jpg','png','webp'])=>exts.map(e=>`${base}.${e}`)
function useAssetUrl(baseName,fallback=''){ const [url,setUrl]=useState(fallback); useEffect(()=>{ let alive=true; (async()=>{ for(const u of candidates(`/${baseName}`)){ try{ const r=await fetch(u,{method:'HEAD'}); if(r.ok&&alive){ setUrl(u); return } }catch{} } })(); return ()=>{alive=false} },[baseName]); return url }
const Hero=()=>{ const heroUrl=useAssetUrl('hero-image',DEFAULT_PLACEHOLDER); const bgStyle=useMemo(()=>({backgroundImage:`url(${heroUrl})`,backgroundSize:'cover',backgroundPosition:'center'}),[heroUrl]); return (<div className={`relative overflow-hidden border-b ${T.border}`} style={bgStyle}><div className="absolute inset-0 bg-black/55"/><Section className="py-24 sm:py-32 relative z-10"><motion.div variants={fade} initial="hidden" animate="show" className="max-w-[820px]"><p className="text-[12px] font-medium uppercase tracking-[0.18em] text-zinc-300">Social-first creative partner</p><h1 className="mt-4 text-4xl sm:text-[54px] leading-[1.05] font-bold tracking-tight text-white">We build <span className="bg-clip-text text-transparent" style={{backgroundImage:`linear-gradient(90deg, #fff, ${T.accentLight})`}}>stronger connections</span> between people and brands.</h1><p className="mt-5 text-[18px] leading-7 text-zinc-200 max-w-2xl">Strategy. Creative. Creators. Media. Integrated to turn communities into customers.</p><div className="mt-8 flex items-center gap-3"><AccentButton href="#/work">See our work</AccentButton><LightButton href="#/services">What we do</LightButton></div></motion.div><div className="mt-16 grid grid-cols-2 md:grid-cols-4 gap-4">{"Durham x Hummel","Aspect Bathrooms","OneGovs","Monzo","Heinz","ITV Studios","TikTok","Adidas".split(',').map((n,i)=>(<div key={i} className={`h-20 ${T.hairline} ${T.card} rounded-xl flex items-center justify-center text-zinc-300 text-sm`}>{n}</div>))}</div></Section></div>) }
const services=[{title:'Strategy & Social',desc:'Audience, positioning, channel architecture, measurement frameworks.'},{title:'Creative & Content',desc:'Social-first ideas, production, creator collaborations, always-on.'},{title:'Paid Media',desc:'Full-funnel planning, performance, attribution and optimisation.'},{title:'Campaigns',desc:'Moments that capture culture and earn attention at scale.'}]
const Services=()=> (<Section id="services" className="py-20"><motion.div variants={fade} initial="hidden" whileInView="show" viewport={{once:true}} className="max-w-3xl"><h2 className="text-3xl sm:text-4xl font-bold tracking-tight text-white">What we do</h2><p className="mt-3 text-zinc-300">People over platforms. Social work that moves business outcomes.</p></motion.div><div className="mt-10 grid sm:grid-cols-2 lg:grid-cols-4 gap-5">{services.map((s,i)=>(<motion.div key={i} variants={fade} initial="hidden" whileInView="show" viewport={{once:true}} whileHover={{y:-4,rotateX:.6,rotateY:.6}} className={`relative rounded-2xl p-6 ${T.hairline} ${T.card} h-full transition-colors duration-200 hover:border-red-500/60 after:absolute after:inset-0 after:rounded-2xl after:pointer-events-none after:ring-1 after:ring-transparent hover:after:ring-red-500/30`}><div className="text-[15px] font-semibold text-white">{s.title}</div><p className="mt-2 text-[14px] text-zinc-400">{s.desc}</p></motion.div>))}</div></Section>)
const workItems=[{key:'durham',img:'durham-image',tag:'Campaign',title:'Durham x Hummel',blurb:'Amplifying club culture and kit pride with creator-led social and launch content.'},{key:'aspect',img:'aspect-bathrooms',tag:'Brand & Social',title:'Aspect Bathrooms',blurb:'Elevating a local brand with performance-driven social and sleek product storytelling.'},{key:'onegovs',img:'onegovs-image',tag:'Strategy & Paid',title:'OneGovs',blurb:'Building awareness and trust for a public-sector platform through targeted creative + media.'}]
const CardImage=({base,alt})=>{ const url=useAssetUrl(base,DEFAULT_PLACEHOLDER); return <img src={url} alt={alt} className="w-full h-full object-cover" loading="lazy"/> }
const Work=()=> (<Section id="work" className={`py-20 border-t ${T.border}`}> <div className="flex items-end justify-between gap-6"><div><h2 className="text-3xl sm:text-4xl font-bold tracking-tight text-white">Selected work</h2><p className="mt-3 text-zinc-300 max-w-xl">A taste of how brand + performance blend to move the numbers that matter.</p></div><OutlineButton href="#/contact" className="hidden sm:inline-flex">Start a project</OutlineButton></div><div className="mt-10 grid md:grid-cols-3 gap-6">{workItems.map(c=>(<motion.div key={c.key} whileHover={{y:-6,rotateX:1.2,rotateY:-1.2}} transition={{type:'spring',stiffness:260,damping:20}} className={`group overflow-hidden ${T.hairline} rounded-2xl ${T.card} transition-colors hover:border-red-500/60 relative after:absolute after:inset-0 after:rounded-2xl after:pointer-events-none after:ring-1 after:ring-transparent hover:after:ring-red-500/30`} style={{transformStyle:'preserve-3d'}}><div className="relative h-56 bg-zinc-900"><CardImage base={c.img} alt={c.title}/></div><div className="p-5"><div className="text-[11px] uppercase tracking-[0.16em] text-zinc-400">{c.tag}</div><div className="text-[20px] leading-snug text-white font-semibold mt-1">{c.title}</div><div className="text-[14px] text-zinc-300 mt-2">{c.blurb}</div></div></motion.div>))}</div><div className="mt-8"><GhostLink href="#/work">See more case studies →</GhostLink></div></Section>)
const Community=()=> (<div id="community" className={`relative overflow-hidden border-y ${T.border}`}><Section className="py-20"><div className="grid lg:grid-cols-2 gap-10 items-center"><motion.div variants={fade} initial="hidden" whileInView="show" viewport={{once:true}}><h3 className="text-3xl sm:text-4xl font-bold tracking-tight text-white">Heplink Pulse</h3><p className="mt-3 text-zinc-300">A weekly signal on what actually matters in social — trends, formats, and tactics you can use.</p><form className="mt-6 flex gap-3" onSubmit={e=>e.preventDefault()}><input placeholder="Your email" type="email" className="w-full max-w-sm border border-zinc-700 rounded-xl px-3 py-2 outline-none bg-zinc-900 text-white placeholder-zinc-500 focus:ring-2"/><button className="rounded-xl h-10 px-5 text-white" style={{backgroundColor:T.accent}}>Join</button></form><p className="mt-2 text-[12px] text-zinc-500">No spam. Unsubscribe anytime.</p></motion.div><motion.div variants={fade} initial="hidden" whileInView="show" viewport={{once:true}} className={`rounded-2xl p-6 ${T.hairline} ${T.card}`}><div className="flex items-center gap-2 text-sm font-medium text-white">Latest Pulse</div><h4 className="mt-3 text-[18px] font-semibold text-white">Creative that converts: short-form edits that actually move the funnel</h4><ul className="mt-4 space-y-3 text-[14px] text-zinc-300 list-disc pl-5"><li>Platform shift: captions + hooks that keep watch time</li><li>Creator collabs: smaller creators, bigger trust</li><li>Attribution: simple frameworks that clients get</li></ul><OutlineButton href="#/insights" className="mt-6">Read more</OutlineButton></motion.div></div></Section></div>)
const Insights=()=> (<Section id="insights" className="py-20"><h3 className="text-3xl sm:text-4xl font-bold tracking-tight text-white">News & insights</h3><div className="mt-8 grid md:grid-cols-3 gap-6">{[{title:'Raising awareness & helping dog owners in the run up to Bonfire Night',tag:'News'},{title:'Making a regional haulage company stand out',tag:'News'},{title:'Durham x Hummel: from kit launch to community hype',tag:'Insight'}].map((p,i)=>(<div key={i} className={`rounded-2xl overflow-hidden ${T.hairline} ${T.card} relative after:absolute after:inset-0 after:rounded-2xl after:pointer-events-none after:ring-1 after:ring-transparent hover:after:ring-red-500/30`}><div className="h-44 bg-gradient-to-br from-zinc-800 to-zinc-900"/><div className="p-5"><div className="text-[11px] uppercase tracking-[0.16em] text-zinc-400">{p.tag}</div><div className="mt-1 text-[20px] leading-snug font-semibold text-white">{p.title}</div><GhostLink href="#/insights">Read →</GhostLink></div></div>))}</div></Section>)
const Careers=()=> (<Section id="careers" className={`py-20 border-t ${T.border}`}><div className="grid lg:grid-cols-2 gap-10 items-center"><div><h3 className="text-3xl sm:text-4xl font-bold tracking-tight text-white">Culture & careers</h3><p className="mt-3 text-zinc-300">We’re a team of platform natives, creators and marketers who love solving hard problems. Sound like you?</p><div className="mt-6 flex gap-3"><AccentButton href="#/careers">See open roles</AccentButton><OutlineButton href="#/careers">Life here</OutlineButton></div></div><div className={`rounded-2xl p-6 ${T.hairline} ${T.card}`}><div className="grid sm:grid-cols-3 gap-6 text-center">{[{n:'200+',l:'projects shipped'},{n:'4',l:'core capabilities'},{n:'10y',l:'in social'}].map((s,i)=>(<div key={i}><div className="text-3xl font-bold text-white">{s.n}</div><div className="text-sm text-zinc-400">{s.l}</div></div>))}</div></div></div></Section>)
const Contact=()=> (<Section id="contact" className="py-20"><div className="grid md:grid-cols-2 gap-10"><div><h3 className="text-3xl sm:text-4xl font-bold tracking-tight text-white">Got a brief?</h3><p className="mt-3 text-zinc-300">Tell us what you’re trying to achieve. We’ll reply within two working days.</p><div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6"><div><div className="text-sm text-zinc-400">General</div><div className="font-medium text-white">hello@heplink.co</div></div><div><div className="text-sm text-zinc-400">New business</div><div className="font-medium text-white">newbiz@heplink.co</div></div></div></div><form className="space-y-4" onSubmit={e=>e.preventDefault()}><div className="grid sm:grid-cols-2 gap-4"><input placeholder="Name" className="border border-zinc-700 rounded-xl px-3 py-2 bg-zinc-900 text-white placeholder-zinc-500 focus:ring-2"/><input placeholder="Email" className="border border-zinc-700 rounded-xl px-3 py-2 bg-zinc-900 text-white placeholder-zinc-500 focus:ring-2"/></div><input placeholder="Company" className="w-full border border-zinc-700 rounded-xl px-3 py-2 bg-zinc-900 text-white placeholder-zinc-500 focus:ring-2"/><textarea placeholder="Tell us about your project" rows={5} className="w-full border border-zinc-700 rounded-xl px-3 py-2 bg-zinc-900 text-white placeholder-zinc-500 focus:ring-2"/><button className="inline-flex items-center rounded-xl h-10 px-5 text-white" style={{backgroundColor:T.accent}}>Send</button></form></div></Section>)
const Footer=()=> (<footer className={`border-t ${T.border}`}><Section className="py-10 grid sm:grid-cols-2 lg:grid-cols-4 gap-8 text-sm"><div><Logo/><p className="mt-3 text-zinc-400">Born social. Built for outcomes.</p></div><div><div className="text-zinc-500">Services</div><ul className="mt-3 space-y-2"><li><a href="#/services" className="hover:underline text-white">Strategy</a></li><li><a href="#/services" className="hover:underline text-white">Creative</a></li><li><a href="#/services" className="hover:underline text-white">Media</a></li><li><a href="#/services" className="hover:underline text-white">Campaigns</a></li></ul></div><div><div className="text-zinc-500">Company</div><ul className="mt-3 space-y-2"><li><a href="#/home" className="hover:underline text white">Home</a></li><li><a href="#/work" className="hover:underline text-white">Work</a></li><li><a href="#/careers" className="hover:underline text-white">Careers</a></li><li><a href="#/insights" className="hover:underline text-white">Insights</a></li><li><a href="#/contact" className="hover:underline text-white">Contact</a></li></ul></div><div><div className="text-zinc-500">Legal</div><ul className="mt-3 space-y-2"><li><a href="#" className="hover:underline text-white">Privacy</a></li><li><a href="#" className="hover:underline text-white">Cookies</a></li></ul></div></Section><div className="text-xs text-zinc-500 text-center pb-8">© {new Date().getFullYear()} Heplink. All rights reserved.</div></footer>)
const HomePage=()=> (<><Hero/><Services/><Work/><Community/><Insights/></>)
const Page=({route})=>{ if(route.startsWith('#/work')) return (<><Work/><Community/></>); if(route.startsWith('#/services')) return (<><Services/><Work/></>); if(route.startsWith('#/insights')) return (<Insights/>); if(route.startsWith('#/careers')) return (<Careers/>); if(route.startsWith('#/contact')) return (<Contact/>); return (<HomePage/>) }
export default function App(){ const [route,setRoute]=useState(typeof window!=='undefined'?window.location.hash||'#/home':'#/home'); useEffect(()=>{ const onHash=()=>setRoute(window.location.hash||'#/home'); window.addEventListener('hashchange',onHash); return ()=>window.removeEventListener('hashchange',onHash) },[]); return (<div className={`min-h-screen ${T.bg} ${T.text} relative`}><CursorDot/><Navbar/><AnimatePresence mode="wait"><motion.div key={route} initial={{opacity:0,y:8}} animate={{opacity:1,y:0,transition:{duration:.45}}} exit={{opacity:0,y:-8,transition:{duration:.25}}}><Page route={route}/></motion.div></AnimatePresence><Footer/></div>) }
